# Markdown協調編集システム v6.2 アップデート

## 🎯 新機能

### Ollamaモデルの環境変数設定対応

`.env`ファイルで使用するOllamaモデルを自由に変更できるようになりました。

## 📝 変更内容

### 1. `.env`ファイル
```env
# 新しい設定項目
OLLAMA_MODEL=gemma:2b  # 使用するモデルを指定
```

### 2. モデル変更方法

#### 手順：
1. `.env`ファイルを編集
   ```env
   OLLAMA_MODEL=llama2:7b  # 例：llama2に変更
   ```

2. モデルをダウンロード
   ```bash
   ollama pull llama2:7b
   ```

3. サーバーを再起動
   ```bash
   npm start
   ```

### 3. 利用可能なモデル例

| モデル名 | 特徴 | サイズ | 用途 |
|---------|------|--------|------|
| `gemma:2b` | 軽量・高速（デフォルト） | 1.4GB | 一般用途 |
| `llama2:7b` | バランス型 | 3.8GB | 高品質な応答 |
| `mistral:7b` | 高性能 | 4.1GB | 複雑なタスク |
| `codellama:7b` | コード特化 | 3.8GB | プログラミング |
| `phi:2.7b` | 超軽量 | 1.6GB | 低スペックPC |

### 4. 更新されたファイル

- ✅ `server.js` - 環境変数`OLLAMA_MODEL`を読み込み
- ✅ `.env` - `OLLAMA_MODEL`設定を追加
- ✅ `.env.example` - 設定例を追加（新規）
- ✅ `README.md` - モデル設定の説明を追加
- ✅ `setup.sh` - 指定モデルを自動セットアップ
- ✅ `setup.bat` - 指定モデルを自動セットアップ

## 🔄 既存プロジェクトのアップデート

既存のv6.1からアップデートする場合：

1. `.env`ファイルに以下を追加：
   ```env
   OLLAMA_MODEL=gemma:2b
   ```

2. `server.js`を新しいバージョンに置き換え

3. サーバーを再起動

## 💡 活用例

### 用途別の推奨モデル

- **軽量運用**: `phi:2.7b` or `gemma:2b`
- **日本語重視**: `llama2-japanese:7b`（要追加インストール）
- **コード編集**: `codellama:7b`
- **高品質応答**: `mistral:7b` or `llama2:13b`

### 複数モデルの切り替え

開発環境と本番環境で異なるモデルを使用：

```bash
# 開発環境（.env.development）
OLLAMA_MODEL=gemma:2b  # 軽量モデル

# 本番環境（.env.production）  
OLLAMA_MODEL=llama2:13b  # 高性能モデル
```

## 📌 注意事項

- モデル変更後は必ず`ollama pull [モデル名]`でダウンロードが必要
- 大規模モデル（13b, 70b）は十分なメモリ（16GB以上推奨）が必要
- モデルサイズによってレスポンス速度が変わります

---

*リリース日: 2024年12月*
*バージョン: 6.2*